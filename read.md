# GitHub 和网站信息爬取工具

## 项目需求

### 功能一：GitHub 仓库信息爬取
1. 输入：GitHub 仓库的 URL
2. 爬取内容：
   - 仓库 URL
   - 仓库名称
   - README 文件内容
   - Star 数量
   - Fork 数量
   - 最后更新时间
   - 主要编程语言
   - 开源协议类型
   - 贡献者数量
   - Issues 数量
3. 输出：将爬取的信息保存到 Excel 表格中

### 功能二：网站信息爬取
1. 输入：网站的 URL
2. 爬取内容：
   - 网站地址
   - 网站标题
   - 网站描述（meta description）
   - 关键词（meta keywords）
   - 网站图标
   - 主要链接列表
   - 联系方式（如有）
3. 输出：将爬取的信息保存到另一个 Excel 表格中

## 技术实现
- 使用 Python 3.9+ 实现爬虫功能
- 使用 requests 库处理 HTTP 请求
- 使用 BeautifulSoup4 和 lxml 解析 HTML 内容
- 使用 pandas 库处理数据并导出到 Excel
- 使用 PyGithub 库与 GitHub API 交互（需配置 .env 文件存储 API 密钥）
- 使用 tqdm 显示爬取进度条
- 实现多线程爬取提高效率
- 使用 argparse 库实现命令行参数解析
- 使用 logging 模块记录程序运行日志
- 实现请求频率限制和代理切换，避免 IP 被封

## 错误处理
- 实现网络连接错误重试机制
- 处理 API 请求限制和认证失败情况
- 处理无效 URL 和页面不存在的情况
- 实现数据验证，确保爬取数据的完整性
- 提供详细的错误日志和用户友好的错误提示

## 项目架构
### 核心模块
1. **配置管理模块**：
   - 负责读取和管理配置文件（.env）
   - 管理环境变量和API密钥
   - 提供全局配置访问接口

2. **爬虫引擎模块**：
   - 实现基础爬虫功能
   - 管理请求队列和并发控制
   - 实现请求重试和错误处理机制

3. **数据解析模块**：
   - 解析HTML/JSON响应
   - 提取所需数据
   - 数据清洗和格式化

4. **数据存储模块**：
   - 数据临时存储
   - Excel文件生成
   - 数据导出功能

5. **代理管理模块**：
   - 代理池维护
   - 代理有效性检测
   - 代理自动切换

### 业务模块
1. **GitHub爬虫模块**：
   - GitHub API交互
   - 仓库信息提取
   - 贡献者和统计数据获取

2. **网站爬虫模块**：
   - 网站内容提取
   - 元数据解析
   - 链接提取和分析

3. **命令行接口模块**：
   - 参数解析
   - 命令执行
   - 用户交互

4. **日志记录模块**：
   - 日志配置
   - 错误跟踪
   - 运行状态监控

## 数据流程
1. 用户输入URL和参数
2. 配置加载和验证
3. 爬虫引擎初始化
4. 数据获取和解析
5. 数据验证和处理
6. 结果导出到Excel
7. 日志记录和状态报告

## 扩展功能
- 批量URL处理功能
- 定时任务和自动化运行
- 数据可视化报表生成
- 增量爬取和数据更新
- Web界面操作（可选）
- 导出为多种格式（JSON, CSV等）

## 开发和部署
### 开发环境
- Python 3.9+
- 虚拟环境管理（venv或conda）
- 依赖管理（requirements.txt）
- 代码风格检查（flake8, black）

### 测试策略
- 单元测试（pytest）
- 集成测试
- 模拟数据测试
- 性能测试

### 部署方式
- 命令行工具
- Docker容器化（可选）
- 定时任务调度（可选）